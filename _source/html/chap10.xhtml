<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>11. Logging</title>
<link href="stylesheet.css" type="text/css" rel="stylesheet" />
</head>
<body>
<div>
<h2 id="logging-chapter">
<span class="section-number">11. </span>Logging</h2>

<h3 id="leanpub-auto-logging-messages">Logging messages</h3>

<p>Logging in SuiteCRM is achieved by accessing the log global. Accessing an instance of
the logger is as simple as</p>

<div class="code-block">
  <p class="codeblock-title">Example 11.1: Accessing the log</p>

  <hr /><div class="highlight"><pre><code class="nv">$GLOBALS</code><code class="p">[</code><code class="s1">'log'</code><code class="p">]</code>
</pre></div>

  <hr /></div>

<p>This can then be used to log a message. Each log level is available as a method.
For example:</p>

<div class="code-block">
  <p class="codeblock-title">Example 11.2: Logging messages</p>

  <hr /><div class="highlight"><pre><code class="lineno">1</code> <code class="nv">$GLOBALS</code><code class="p">[</code><code class="s1">'log'</code><code class="p">]</code><code class="o">-&gt;</code><code class="na">debug</code><code class="p">(</code><code class="s1">'This is a debug message'</code><code class="p">);</code>
<code class="lineno">2</code> <code class="nv">$GLOBALS</code><code class="p">[</code><code class="s1">'log'</code><code class="p">]</code><code class="o">-&gt;</code><code class="na">error</code><code class="p">(</code><code class="s1">'This is an error message'</code><code class="p">);</code>
</pre></div>

  <hr /></div>

<p>This will produce the following output:</p>

<div class="code-block">
  <p class="codeblock-title">Example 11.3: Logging messages example output</p>

  <hr /><div class="highlight"><pre><code class="lineno">1</code> Tue Apr 28 16:52:21 2015 [15006][1][DEBUG] This is a debug message
<code class="lineno">2</code> Tue Apr 28 16:52:21 2015 [15006][1][ERROR] This is an error message
</pre></div>

  <hr /></div>

<h3 id="leanpub-auto-logging-output">Logging output</h3>

<p>The logging output displays the following information by default:</p>

<div class="code-block">
  <p class="codeblock-title">Example 11.4: Logging messages example output</p>

  <hr /><div class="highlight"><pre>&lt;Date&gt; [&lt;ProcessId&gt;][&lt;UserId&gt;][&lt;LogLevel&gt;] &lt;LogMessage&gt;
</pre></div>

  <hr /></div>

<dl><dt><code>&lt;Date&gt;</code></dt>
  <dd>The date and time that the message was logged.</dd>
  <dt><code>&lt;ProcessId&gt;</code></dt>
  <dd>The PHP process id.</dd>
  <dt><code>&lt;UserId&gt;</code></dt>
  <dd>The ID of the user that is logged into SuiteCRM.</dd>
  <dt><code>&lt;LogLevel&gt;</code></dt>
  <dd>The log level for this log message.</dd>
  <dt><code>&lt;LogMessage&gt;</code></dt>
  <dd>The contents of the log message.</dd>
</dl><h3 id="leanpub-auto-log-levels">Log levels</h3>

<p>Depending on the level setting in admin some messages will not be added to the log e.g
if your logger is set to <code>error</code> then you will only see log levels of <code>error</code> or
higher (<code>error</code>, <code>fatal</code> and <code>security</code>).</p>

<p>The default log levels (in order of verbosity) are:</p>

<ul><li><code>debug</code></li>
  <li><code>info</code></li>
  <li><code>warn</code></li>
  <li><code>deprecated</code></li>
  <li><code>error</code></li>
  <li><code>fatal</code></li>
  <li><code>security</code></li>
</ul><p>Generally on a production instance you will use the less verbose levels (probably
<code>error</code> or <code>fatal</code>). However whilst you are developing you can use whatever level you prefer.
I prefer the most verbose level - <code>debug</code>.</p>
</div>
</body>
</html>
